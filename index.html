<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="./WhatsApp Image 2025-09-15 at 23.23.46-Photoroom.webp">
  <!-- preconnect to external image host to speed up hero/info image loads -->
  <link rel="preconnect" href="https://images.unsplash.com" crossorigin>
  <!-- preload the main logo (small critical image) -->
  <link rel="preload" href="./WhatsApp Image 2025-09-15 at 23.23.46.webp" as="image">
  <title>Alumni Portal</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <img src="./WhatsApp Image 2025-09-15 at 23.23.46.webp" alt="Logo" class="logo">
        <div>
          <h1>Alumni Portal</h1>
        </div>
      </div>
      <nav class="nav" id="mainNav" style="display:flex;align-items:center;width:100%;">
  <div style="display:flex;align-items:center;gap:0.5rem;flex:1;">
          <a href="index.html">Home</a>
          <a href="#networking">Networking</a>
          <a href="#mentoring">Mentoring</a>
          <a href="#careers">Career Updates</a>
          <a href="contact.html">Contact Us</a>
          <a id="nav-users" href="users.html" class="btn ghost small">Users</a>
          <a id="nav-admin" href="admin-login.html" class="btn ghost small">Admin</a>
          <a id="nav-dashboard" href="welcome.html" class="btn ghost small" style="display:none;">Dashboard</a>
        </div>
        <div style="margin-left:auto;display:flex;align-items:center;gap:10px;min-width:220px;justify-content:flex-end;">
          <span id="userNav" style="font-weight:600;color:#2563eb;"></span>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="hero-bg"></div>
      <div class="container hero-content">
        <h2 class="fade-up">Welcome to the Alumni Portal</h2>
        <p class="fade-up delay">Join alumni across batches — network, mentor and discover opportunities.</p>
        <div class="hero-actions fade-up delay-2">
          <a href="auth.html" class="btn">Get Started</a>
        </div>
      </div>
    </section>

<section class="cards container">
  <!-- Alumni Networking -->
  <div class="card horizontal" id="networking">
    <img src="./ChatGPT Image Sep 20, 2025, 06_38_09 PM.webp" alt="Alumni Networking" class="card-icon" loading="lazy" decoding="async">
    <div class="card-content">
      <h3 id="networking-title">Alumni Networking</h3>
      <p>Find and connect with batchmates, form interest groups (region, department, or year), and expand your professional circle. Use the alumni directory to search by batch, skills, or location.</p>
      <ul>
        <li><strong>Search & Filter:</strong> find alumni by batch, city, or expertise.</li>
        <li><strong>Create Groups:</strong> start cohort groups for events, reunions, or project collaborations.</li>
        <li><strong>Private Messaging:</strong> connect securely with alumni (opt-in feature).</li>
      </ul>
    </div>
  </div>

  <!-- Mentoring -->
  <div class="card horizontal" id="mentoring">
    <img src="./WhatsApp Image 2025-09-20 at 18.49.23.webp" alt="Mentoring" class="card-icon" loading="lazy" decoding="async">
    <div class="card-content">
      <h3 id="mentoring-title">Mentoring</h3>
      <p>Experienced alumni offer guidance, mentorship, and career advice to students and fresh graduates. Sign up as a mentor or request one based on skill set and availability.</p>
      <ul>
        <li><strong>Mentor Match:</strong> pair with mentors by industry, role, or expertise.</li>
        <li><strong>Short-term Guidance:</strong> 1:1 sessions, resume reviews, and interview practice.</li>
        <li><strong>Long-term Mentorship:</strong> continuous learning and career growth support.</li>
      </ul>
    </div>
  </div>

  <!-- Career Updates -->
  <div class="card horizontal" id="careers">
    <img src="./WhatsApp Image 2025-09-20 at 18.48.49.webp" alt="Career Updates" class="card-icon" loading="lazy" decoding="async">
    <div class="card-content">
      <h3 id="careers-title">Career Updates</h3>
      <p>Access curated job openings, internships, and learning programs shared by alumni and partner organizations. Employers can post opportunities for both alumni and current students.</p>
      <ul>
        <li><strong>Curated Jobs:</strong> verified roles shared by alumni across industries.</li>
        <li><strong>Internships & Projects:</strong> short-term experiences for skill growth.</li>
        <li><strong>Events & Workshops:</strong> career fairs, hackathons, and upskilling sessions.</li>
      </ul>
    </div>
  </div>

  <!-- Why Join -->
  <div class="card horizontal" id="why-join">
    <img src="./99826ea2-a4dd-4bc1-a2d0-a038a3ab314b1.webp" alt="Why Join the Alumni Portal" class="card-icon" loading="lazy" decoding="async">
    <div class="card-content">
      <h3 id="why-join-title">Why Join?</h3>
      <p>Joining the Alumni Portal helps you stay connected, stay inspired, and stay informed. Whether you’re a recent graduate or a seasoned professional, your participation strengthens our community.</p>
      <ul>
        <li><strong>Stay Connected:</strong> keep in touch with your alma mater and classmates.</li>
        <li><strong>Give Back:</strong> mentor students, share opportunities, or volunteer.</li>
        <li><strong>Access Resources:</strong> get exclusive updates, newsletters, and event invites.</li>
        <li><strong>Be Recognized:</strong> showcase your achievements and inspire future batches.</li>
      </ul>
      <p><em>Your journey doesn't end at graduation — it continues here.</em></p>
    </div>
  </div>
</section>
  </main>

 <footer class="site-footer">
  <div class="container">
    <p>© 2025 Alumni Portal</p>
  </div>
</footer>

<script src="config.js"></script>
<script src="script.js"></script>
<script>
  // toggle nav links based on logged-in user and role
  const userNav = document.getElementById('userNav');
  const navUsers = document.getElementById('nav-users');
  const navAdmin = document.getElementById('nav-admin');
  const navDashboard = document.getElementById('nav-dashboard');

  // defensive: hide admin/user links until we decide
  if (navUsers) navUsers.style.display = 'none';
  if (navAdmin) navAdmin.style.display = 'none';
  if (navDashboard) navDashboard.style.display = 'none';

  let current = null;
  try {
    current = JSON.parse(localStorage.getItem('currentUser') || 'null');
  } catch (e) {
    // corrupted JSON in localStorage — clear it and continue safely
    console.warn('Clearing malformed currentUser from localStorage', e);
    localStorage.removeItem('currentUser');
    current = null;
  }
  const token = localStorage.getItem('token');

  if (!current || !token) {
    // not logged in -> show login/signup and allow Admin login link
    userNav.innerHTML = '<a href="auth.html" class="btn small">Login / Signup</a>';
    if (navAdmin) navAdmin.style.display = ''; // show admin login so admins can sign in
  } else {
    // logged in: show greeting + logout
    userNav.innerHTML = `<span style="color:white;font-weight:600;margin-right:8px;">Hi, ${current.name}</span>
      <button class="btn small ghost" id="navLogoutBtn">Logout</button>`;

    // show admin/users only for admin users
    if (current.is_admin) {
      if (navUsers) navUsers.style.display = '';
      if (navAdmin) navAdmin.style.display = 'none';
      if (navDashboard) navDashboard.style.display = 'none';
    } else {
      if (navUsers) navUsers.style.display = 'none';
      if (navAdmin) navAdmin.style.display = 'none';
      if (navDashboard) navDashboard.style.display = '';
    }

    // attach logout handler
    const logoutBtn = document.getElementById('navLogoutBtn');
    if (logoutBtn) {
      logoutBtn.addEventListener('click', () => {
        localStorage.removeItem('currentUser');
        localStorage.removeItem('token');
        window.location.reload();
      });
    }
  }
</script>
</body>
</html>
